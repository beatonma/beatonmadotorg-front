{% load class_tag %}
<section id="feed">
  <div class="feed h-feed">

    {% if is_first_page %}
      <div id="github_recent" class="feed-item-large"></div>
      <div id="notes" class="feed-item-large"></div>
    {% endif %}

    {% for item in feed %}
      {% with cls=item|get_class %}

        {% if cls == "Article" %}
          {% include "./item/article-item.html" with article=item type=cls %}

        {% elif cls == "Blog" %}
          {% include "./item/blog-item.html" with blog=item type=cls %}

        {% elif cls == "Changelog" %}
          {% include "./item/changelog-item.html" with changelog=item type=cls %}

        {% elif cls == "App" %}
          {% include "./item/app-item.html" with app=item type=cls %}

        {% else %}
          <div>TODO {{ cls }} {{ item.title }}</div>

        {% endif %}
      {% endwith %}
    {% endfor %}
  </div>

  <div class="pagination">
    <div class="pagination-group">

      {% if page_obj.has_previous %}

        {% if page_obj.number > 2 %}
          @@include("v2/includes/tooltip.include.html", {
            item: '<a href="/#feed" title="First page">&laquo;</a>',
            popup: "First page"
          })

          @@include("v2/includes/tooltip.include.html", {
            item: '<a href="?page={{ page_obj.previous_page_number }}#feed" title="Previous page">&lt;</a>',
            popup: "Previous page"
          })

        {% else %}
          @@include("v2/includes/tooltip.include.html", {
            item: '<a href="/#feed" title="First page">&laquo;</a>',
            popup: "First page"
          })
        {% endif %}
      {% endif %}
    </div>

    <div class="pagination-group">
      {% if page_obj.has_next %}
        @@include("v2/includes/tooltip.include.html", {
          item: '<a href="?page={{ page_obj.next_page_number }}#feed" title="Next page">&gt;</a>',
          popup: "Next page"
        })

        @@include("v2/includes/tooltip.include.html", {
          item: '<a href="?page={{ page_obj.paginator.num_pages }}#feed" title="Last page">&raquo;</a>',
          popup: "Last page"
        })
      {% endif %}
    </div>
  </div>
</section>